(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{755:function(t,e,r){var o=r(803);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,r(6).default)("4e87ce2e",o,!0,{})},802:function(t,e,r){"use strict";var o=r(755);r.n(o).a},803:function(t,e,r){(t.exports=r(5)(!1)).push([t.i,"\n.memeber-group-page .title-line{width:100%;height:1px;background-color:#a4b7c1;margin:15px 0\n}\n.memeber-group-page .container{max-width:100%;border-top:1px solid #a4b7c1;border-bottom:1px solid #a4b7c1\n}\n.memeber-group-page .container .row{border-left:1px solid #a4b7c1;border-right:1px solid #a4b7c1\n}\n.memeber-group-page .container .list{border-top:1px solid #a4b7c1\n}\n.memeber-group-page .container .row>div{padding:15px;text-align:center\n}\n.memeber-group-page .sortable-ghost{background:#f2f2f2\n}\n.memeber-group-page .move-btn{font-size:22px;cursor:move\n}\n.memeber-group-page .form-group-error .error{display:block;text-align:left\n}\n.memeber-group-page .form-control.is-valid{border-color:#c2cfd6!important\n}",""])},816:function(t,e,r){"use strict";r.r(e);r(39);var o,i,s=r(2),a=r.n(s),n=r(776),c=r.n(n),u=r(762),l=r(764),p={layout:"default",fetch:(i=a()(regeneratorRuntime.mark(function t(e){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.app,r=e.store,o=e.redirect,e.query,t.prev=1,t.next=4,r.dispatch({type:"cookieInit"});case 4:if(r.state.auth){t.next=7;break}return o("/login"),t.abrupt("return");case 7:return t.next=9,r.dispatch({type:"getMemberGroups"});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[1,11]])})),function(t){return i.apply(this,arguments)}),mixins:[u.validationMixin],components:{draggable:c.a},data:function(){return{groupList:this.$store.state.memberGroups}},validations:{groupList:{$each:{title:{required:l.required}}}},methods:{addGroups:function(){this.groupList.push({title:"",order:this.groupList.length,description:""})},removeGroups:function(t){this.groupList.splice(t,1);for(var e=0;e<this.groupList.length;e++)this.groupList[e].order=e},changeDraggable:function(){for(var t=0;t<this.groupList.length;t++)this.groupList[t].order=t},onSubmit:(o=a()(regeneratorRuntime.mark(function t(e){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.$v.$touch(),this.$v.$invalid){t.next=16;break}return t.prev=3,t.next=6,this.$axios({method:"post",url:"/api/admin/member/group/write",data:this.groupList,headers:{"x-access-token":this.$store.state.auth.accessToken}});case 6:t.sent.data.success?alert("회원 그룹 저장."):alert("회원 그룹 저장 실패."),this.$router.go(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:t.next=17;break;case 16:setTimeout(function(){var t=r.$el.querySelectorAll(".is-invalid");t.length>0&&t[0].focus()});case 17:case"end":return t.stop()}},t,this,[[3,11]])})),function(t){return o.apply(this,arguments)})}},g=(r(802),r(0)),b=Object(g.a)(p,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{},[r("div",{staticClass:"memeber-group-page"},[r("b-card",[r("b-form",{on:{submit:t.onSubmit}},[r("div",{staticClass:"overflow-hidden"},[r("div",{staticClass:"float-right"},[r("b-button-group",[r("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("\n                저장하기\n              ")])],1)],1)]),t._v(" "),r("div",{staticClass:"title-line"}),t._v(" "),r("p",[t._v("0개의 그룹이 존재합니다")]),t._v(" "),r("b-container",{staticClass:"list-con"},[r("b-row",{staticClass:"list-title"},[r("b-col",[t._v("순서변경")]),t._v(" "),r("b-col",{attrs:{cols:"3"}},[t._v("그룹명")]),t._v(" "),r("b-col",{attrs:{cols:"5"}},[t._v("설명")]),t._v(" "),r("b-col",[t._v("회원수")]),t._v(" "),r("b-col",[r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:t.addGroups}},[t._v("추가")])],1)],1),t._v(" "),r("draggable",{attrs:{options:{handle:".move-btn",invertSwap:!0,animation:150}},on:{end:t.changeDraggable},model:{value:t.groupList,callback:function(e){t.groupList=e},expression:"groupList"}},[r("transition-group",t._l(t.groupList,function(e,o){return r("b-row",{key:o,staticClass:"list"},[r("b-col",[r("a",{staticClass:"move-btn"},[r("i",{staticClass:"fas fa-arrows-alt"})])]),t._v(" "),r("b-col",{attrs:{cols:"3"}},[r("div",{class:{"form-group-error":t.$v.groupList.$each[o].title.$error||!t.$v.groupList.$each[o].title.required}},[r("b-form-input",{attrs:{state:!t.$v.groupList.$each[o].title.$error,type:"text"},model:{value:t.groupList[o].title,callback:function(e){t.$set(t.groupList[o],"title",e)},expression:"groupList[i].title"}}),t._v(" "),t.$v.groupList.$each[o].title.$error&&!t.$v.groupList.$each[o].title.required?r("div",{staticClass:"error"},[t._v("그룹명을 입력하세요.")]):t._e()],1)]),t._v(" "),r("b-col",{attrs:{cols:"5"}},[r("b-form-input",{attrs:{type:"text"},model:{value:e.description,callback:function(r){t.$set(e,"description",r)},expression:"group.description"}})],1),t._v(" "),r("b-col",[t._v(t._s(t.groupList[o].count))]),t._v(" "),r("b-col",[r("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){t.removeGroups(o)}}},[t._v("삭제")])],1)],1)}))],1)],1)],1)],1)],1)])},[],!1,null,null,null);b.options.__file="group.vue";e.default=b.exports}}]);